<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farm Economic Analysis</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background-color: #f8f9fa;
            padding: 30px 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Language Toggler */
        .language-toggle {
            position: fixed;
            top: 25px;
            right: 25px;
            background: white;
            border-radius: 12px;
            padding: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            display: flex;
            gap: 8px;
            z-index: 1000;
            border: 1px solid #e5e5e5;
        }

        .lang-btn {
            padding: 8px 18px;
            border: 1.5px solid #d0d0d0;
            background: white;
            color: #666;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95em;
            transition: all 0.3s;
        }

        .lang-btn:hover {
            border-color: #999;
            color: #333;
        }

        .lang-btn.active {
            background: #f0f0f0;
            color: #333;
            border-color: #999;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            background: white;
            padding: 40px 30px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
        }

        .header h1 {
            font-size: 2.2em;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 1em;
            color: #999;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .story-box {
            background: #fffbf0;
            border-radius: 12px;
            padding: 20px 24px;
            margin-bottom: 25px;
            border-left: 4px solid #d4af37;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #f5ede0;
            font-size: 0.95em;
            color: #666;
            font-weight: 500;
            line-height: 1.6;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .metric-card {
            background: white;
            border-radius: 12px;
            padding: 28px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: #559d3c;
            opacity: 0.7;
        }

        .metric-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border-color: #e0e0e0;
        }

        .metric-card.info::before {
            background: #4fa3d1;
        }

        .metric-card.warning::before {
            background: #d4af37;
        }

        .metric-icon-large {
            font-size: 2.5em;
            margin-bottom: 12px;
        }

        .metric-label {
            font-size: 0.85em;
            color: #999;
            margin-bottom: 8px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-value {
            font-size: 2em;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
            font-family: 'Segoe UI', sans-serif;
        }

        .metric-explain {
            font-size: 0.95em;
            color: #666;
            margin-bottom: 12px;
            font-weight: 500;
            line-height: 1.4;
        }

        .insight-box {
            background: #f5faf2;
            border-left: 3px solid #559d3c;
            padding: 10px 12px;
            margin-top: 10px;
            border-radius: 6px;
            font-size: 0.9em;
            color: #666;
            font-weight: 500;
            border: 1px solid #e8eee3;
        }

        .understanding-box {
            background: #fffbf0;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 25px;
            border-left: 4px solid #d4af37;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #f5ede0;
        }

        .understanding-box h2 {
            font-size: 1.3em;
            color: #c67f26;
            margin-bottom: 16px;
            font-weight: 700;
        }

        .understanding-box p {
            font-size: 0.95em;
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-bottom: 25px;
        }

        .tab-btn {
            padding: 16px 20px;
            border: 1px solid #e5e5e5;
            background: white;
            color: #666;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .tab-btn:hover {
            border-color: #d0d0d0;
            background: #fafafa;
            color: #333;
        }

        .tab-btn.active {
            background: #333;
            color: white;
            border-color: #333;
            box-shadow: 0 4px 12px rgba(51, 51, 51, 0.15);
        }

        .content-wrapper {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
            margin-bottom: 25px;
        }

        .chart-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
        }

        .chart-subtitle {
            font-size: 0.95em;
            color: #999;
            margin-bottom: 25px;
            font-weight: 400;
        }

        .chart-wrapper {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .explanation-box {
            background: #f5faf2;
            border-left: 3px solid #559d3c;
            padding: 16px 18px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 0.95em;
            color: #666;
            font-weight: 500;
            line-height: 1.6;
            border: 1px solid #e8eee3;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th {
            background: #f5f5f5;
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
            color: #666;
            border-bottom: 2px solid #e5e5e5;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 13px 16px;
            border-bottom: 1px solid #f0f0f0;
            color: #666;
            font-size: 0.95em;
            font-weight: 500;
        }

        tr:hover {
            background: #fafafa;
        }

        tr:last-child td {
            border-bottom: none;
        }

        .profit-positive {
            color: #559d3c;
            font-weight: 700;
        }

        .profit-negative {
            color: #d9534f;
            font-weight: 700;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat {
            text-align: center;
            padding: 20px;
            background: #f9faf7;
            border-radius: 10px;
            border: 1px solid #e8eee3;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
            font-family: 'Segoe UI', sans-serif;
        }

        .stat-label {
            font-size: 0.9em;
            color: #999;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .final-message {
            background: #fffbf0;
            border-radius: 12px;
            padding: 20px 24px;
            border-left: 4px solid #d4af37;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #f5ede0;
            font-size: 0.95em;
            color: #666;
            font-weight: 500;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .language-toggle {
                position: static;
                margin-bottom: 20px;
                justify-content: center;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .metric-value {
                font-size: 1.6em;
            }

            .content-wrapper {
                padding: 20px;
            }

            .chart-wrapper {
                height: 300px;
            }

            .tabs {
                grid-template-columns: 1fr;
            }

            body {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Language Toggle -->
    <div class="language-toggle">
        <button class="lang-btn active" onclick="changeLanguage(event, 'english')">English</button>
        <button class="lang-btn" onclick="changeLanguage(event, 'kannada')">ಕನ್ನಡ</button>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 id="mainTitle">Economic Analysis</h1>
            <p id="mainSubtitle">10-year income projection and cost breakdown</p>
        </div>

        <!-- Story Box -->
        <div class="story-box" id="storyBox">
            📖 Your Story: Raj is a farmer. He invested ₹76,000 to start his farm. Today we'll see how much money he'll make in 10 years.
        </div>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-icon-large">💸</div>
                <div class="metric-label" id="card1Label">Initial Investment</div>
                <div class="metric-value">₹76,000</div>
                <div class="metric-explain" id="card1Explain">One-time setup cost</div>
                <div class="insight-box" id="card1Example">Average farm setup across 1 acre</div>
            </div>

            <div class="metric-card info">
                <div class="metric-icon-large">📈</div>
                <div class="metric-label" id="card2Label">Breakeven Year</div>
                <div class="metric-value">Year 2</div>
                <div class="metric-explain" id="card2Explain">Recovery timeline</div>
                <div class="insight-box" id="card2Example">Profit starts from Year 2 onwards</div>
            </div>

            <div class="metric-card warning">
                <div class="metric-icon-large">💹</div>
                <div class="metric-label" id="card3Label">10-Year Total</div>
                <div class="metric-value">₹11,75,000</div>
                <div class="metric-explain" id="card3Explain">Cumulative earnings</div>
                <div class="insight-box" id="card3Example">Average ₹1,04,500/year net profit</div>
            </div>
        </div>

        <!-- Understanding Box -->
        <div class="understanding-box" id="understandingBox">
            <h2 id="understandingTitle">🎯 What does all this mean?</h2>
            <p id="understanding1">❌ Year 1 is tough: You won't get any income in the first year because the farm is being prepared.</p>
            <p id="understanding2">✅ From Year 2 onwards: You can earn ₹1,50,000 or more.</p>
            <p id="understanding3">✅ After 10 years: In year 10, you could earn up to ₹1,47,500.</p>
            <p id="understanding4">✅ Total profit: Over 10 years, you can earn ₹11,75,000.</p>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab(0, 'income')" id="tab1Text">Income Projection</button>
            <button class="tab-btn" onclick="switchTab(1, 'cost')" id="tab2Text">Cost Breakdown</button>
            <button class="tab-btn" onclick="switchTab(2, 'detail')" id="tab3Text">Detailed Table</button>
        </div>

        <!-- Content -->
        <div class="content-wrapper">
            <!-- Income Projection Chart -->
            <div id="incomeContent" class="tab-content active">
                <div class="chart-title" id="incomeTitle">Year-wise Income Projection</div>
                <div class="chart-subtitle" id="incomeSubtitle">Projected income over 10 years</div>
                <div class="chart-wrapper">
                    <canvas id="incomeChart"></canvas>
                </div>
                <div class="explanation-box" id="incomeExplanation">
                    Your income starts at zero in year 1 and grows consistently each year, reaching ₹14,75,000 by year 10. This demonstrates strong farm potential with steady growth trajectory.
                </div>
                <div class="stats-row">
                    <div class="stat">
                        <div class="stat-value">₹0</div>
                        <div class="stat-label" id="stat1Label">Year 1 Income</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">₹14.75L</div>
                        <div class="stat-label" id="stat2Label">Year 10 Income</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">22%</div>
                        <div class="stat-label" id="stat3Label">Avg Annual Growth</div>
                    </div>
                </div>
            </div>

            <!-- Cost Breakdown Chart -->
            <div id="costContent" class="tab-content">
                <div class="chart-title" id="costTitle">Annual Cost Breakdown</div>
                <div class="chart-subtitle" id="costSubtitle">Distribution of operational expenses</div>
                <div class="chart-wrapper">
                    <canvas id="costChart"></canvas>
                </div>
                <div class="explanation-box" id="costExplanation">
                    Labor is your largest expense category at 37% of total costs. Seeds and fertilizers account for 18%. Strategic planning around these major cost components can significantly improve profitability.
                </div>
            </div>

            <!-- Detailed Table -->
            <div id="detailContent" class="tab-content">
                <div class="chart-title" id="tableTitle">Year-by-Year Financial Breakdown</div>
                <div class="chart-subtitle" id="tableSubtitle">Complete financial summary for planning</div>
                <table>
                    <thead>
                        <tr>
                            <th id="colYear">Year</th>
                            <th id="colIncome">Gross Revenue</th>
                            <th id="colCost">Annual Costs</th>
                            <th id="colProfit">Net Profit</th>
                            <th id="colCumulative">Cumulative Profit</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Final Message -->
        <div class="final-message" id="finalMessage">
            🎉 Remember: All of this depends on working properly. Take care of your farm regularly, keep soil healthy, and plant and harvest at the right time. Then you will definitely succeed!
        </div>
    </div>

    <script>
        // Translation Data
        const translations = {
            english: {
                mainTitle: 'Economic Analysis',
                mainSubtitle: '10-year income projection and cost breakdown',
                storyBox: '📖 Your Story: Raj is a farmer. He invested ₹76,000 to start his farm. Today we\'ll see how much money he\'ll make in 10 years.',
                
                card1Label: 'Initial Investment',
                card1Explain: 'One-time setup cost',
                card1Example: 'Average farm setup across 1 acre',
                
                card2Label: 'Breakeven Year',
                card2Explain: 'Recovery timeline',
                card2Example: 'Profit starts from Year 2 onwards',
                
                card3Label: '10-Year Total',
                card3Explain: 'Cumulative earnings',
                card3Example: 'Average ₹1,04,500/year net profit',
                
                understandingTitle: '🎯 What does all this mean?',
                understanding1: '❌ Year 1 is tough: You won\'t get any income in the first year because the farm is being prepared.',
                understanding2: '✅ From Year 2 onwards: You can earn ₹1,50,000 or more.',
                understanding3: '✅ After 10 years: In year 10, you could earn up to ₹1,47,500.',
                understanding4: '✅ Total profit: Over 10 years, you can earn ₹11,75,000.',
                
                tab1Text: 'Income Projection',
                tab2Text: 'Cost Breakdown',
                tab3Text: 'Detailed Table',
                
                incomeTitle: 'Year-wise Income Projection',
                incomeSubtitle: 'Projected income over 10 years',
                incomeExplanation: 'Your income starts at zero in year 1 and grows consistently each year, reaching ₹14,75,000 by year 10. This demonstrates strong farm potential with steady growth trajectory.',
                stat1Label: 'Year 1 Income',
                stat2Label: 'Year 10 Income',
                stat3Label: 'Avg Annual Growth',
                
                costTitle: 'Annual Cost Breakdown',
                costSubtitle: 'Distribution of operational expenses',
                costExplanation: 'Labor is your largest expense category at 37% of total costs. Seeds and fertilizers account for 18%. Strategic planning around these major cost components can significantly improve profitability.',
                
                tableTitle: 'Year-by-Year Financial Breakdown',
                tableSubtitle: 'Complete financial summary for planning',
                colYear: 'Year',
                colIncome: 'Gross Revenue',
                colCost: 'Annual Costs',
                colProfit: 'Net Profit',
                colCumulative: 'Cumulative Profit',
                
                finalMessage: '🎉 Remember: All of this depends on working properly. Take care of your farm regularly, keep soil healthy, and plant and harvest at the right time. Then you will definitely succeed!',
                
                incomeLabel: 'Income (₹)',
                costLabels: ['Labor (37%)', 'Seeds & Fertilizer (18%)', 'Equipment Maintenance (15%)', 'Irrigation (8%)', 'Pesticides (8%)', 'Other (4%)']
            },
            kannada: {
                mainTitle: 'ಆರ್ಥಿಕ ವಿಶ್ಲೇಷಣೆ',
                mainSubtitle: '10 ವರ್ಷಗಳ ಆದಾಯ ಪ್ರಜೆಕ್ಷನ್ ಮತ್ತು ಖರ್ಚ ವಿಭಜನೆ',
                storyBox: '📖 ನಿಮ್ಮ ಕತೆ: ರಾಜ್ ಒಬ್ಬ ರೈತ. ಅವನು ತನ್ನ ಜಮೀನು ಪ್ರಾರಂಭಿಸಲು ₹76,000 ಹೂಡಿದ. ಇಂದು ನಾವು 10 ವರ್ಷಗಳಲ್ಲಿ ಅವನಿಗೆ ಎಷ್ಟು ಹಣ ಬರುತ್ತದೆ ಎಂದು ನೋಡುತ್ತೇವೆ.',
                
                card1Label: 'ಆರಂಭಿಕ ಹೂಡಿಕೆ',
                card1Explain: 'ಏಕ ಬಾರಿ ಸೆಟಪ್ ಖರ್ಚ',
                card1Example: '1 ಎಕರೆ ಆದ್ಯಂತ ಸರಾಸರಿ ಜಮೀನು ಸೆಟಪ್',
                
                card2Label: 'ಸಮತೋಲನ ವರ್ಷ',
                card2Explain: 'ಮರುಪಾವತಿ ಸಮಯಸೀಮೆ',
                card2Example: '2 ವರ್ಷದಿಂದ ಲಾಭ ಪ್ರಾರಂಭವಾಗುತ್ತದೆ',
                
                card3Label: '10 ವರ್ಷ ಒಟ್ಟು',
                card3Explain: 'ಸಂಚಿತ ಆದಾಯ',
                card3Example: 'ಸರಾಸರಿ ₹1,04,500/ವರ್ಷ ಶುದ್ಧ ಲಾಭ',
                
                understandingTitle: '🎯 ಇದೆಲ್ಲ ಅರ್ಥ ಏನು?',
                understanding1: '❌ ವರ್ಷ 1 ಕಷ್ಟವಾಗಿರುತ್ತದೆ: ಮೊದಲ ವರ್ಷ ನಿಮಗೆ ಯಾವುದೇ ಆದಾಯ ಬರುವುದಿಲ್ಲ ಏಕೆಂದರೆ ಜಮೀನು ತಯಾರಾಗುತ್ತಿರುತ್ತದೆ.',
                understanding2: '✅ ವರ್ಷ 2 ರಿಂದ ಒಳ್ಳೆಯದು: ನೀವು ₹1,50,000 ಅಥವಾ ಅದಕ್ಕಿಂತ ಹೆಚ್ಚು ಗಳಿಸಬಹುದು.',
                understanding3: '✅ 10 ವರ್ಷ ನಂತರ: 10 ನೇ ವರ್ಷದಲ್ಲಿ ನೀವು ₹1,47,500 ಗಳಿಸಬಹುದು.',
                understanding4: '✅ ಒಟ್ಟು ಲಾಭ: 10 ವರ್ಷಗಳಲ್ಲಿ ₹11,75,000 ಗಳಿಸಬಹುದು.',
                
                tab1Text: 'ಆದಾಯ ಪ್ರಜೆಕ್ಷನ್',
                tab2Text: 'ಖರ್ಚ ವಿಭಜನೆ',
                tab3Text: 'ವಿವರವಾದ ಕೋಷ್ಟಕ',
                
                incomeTitle: 'ವರ್ಷ-ನುಸಾರ ಆದಾಯ ಪ್ರಜೆಕ್ಷನ್',
                incomeSubtitle: '10 ವರ್ಷಗಳಲ್ಲಿ ಪ್ರಜೆಕ್ಟ್ ಆದಾಯ',
                incomeExplanation: 'ನಿಮ್ಮ ಆದಾಯ ವರ್ಷ 1 ರಲ್ಲಿ ಶೂನ್ಯದಿಂದ ಪ್ರಾರಂಭವಾಗುತ್ತದೆ ಮತ್ತು ಪ್ರತಿ ವರ್ಷ ಸ್ಥಿರವಾಗಿ ಬೆಳೆಯುತ್ತದೆ, ವರ್ಷ 10 ರಲ್ಲಿ ₹14,75,000 ತಲುಪುತ್ತದೆ.',
                stat1Label: 'ವರ್ಷ 1 ಆದಾಯ',
                stat2Label: 'ವರ್ಷ 10 ಆದಾಯ',
                stat3Label: 'ಸರಾಸರಿ ವಾರ್ಷಿಕ ಬೆಳವಣಿಗೆ',
                
                costTitle: 'ವಾರ್ಷಿಕ ಖರ್ಚ ವಿಭಜನೆ',
                costSubtitle: 'ಕಾರ್ಯಾಚರಣೆ ಖರ್ಚದ ವಿತರಣೆ',
                costExplanation: 'ಶ್ರಮ ನಿಮ್ಮ ಅತಿದೊಡ್ಡ ಖರ್ಚ ವರ್ಗವು ಒಟ್ಟು ಖರ್ಚದ 37%. ಬೀಜ ಮತ್ತು ರಸ 18% ಆಗುತ್ತವೆ.',
                
                tableTitle: 'ವರ್ಷ-ಪ್ರತಿ-ವರ್ಷ ಆರ್ಥಿಕ ವಿಭಜನೆ',
                tableSubtitle: 'ಯೋಜನೆಯ ಸಂಪೂರ್ಣ ಆರ್ಥಿಕ ಸಾರಾಂಶ',
                colYear: 'ವರ್ಷ',
                colIncome: 'ಒಟ್ಟು ಆದಾಯ',
                colCost: 'ವಾರ್ಷಿಕ ಖರ್ಚ',
                colProfit: 'ಶುದ್ಧ ಲಾಭ',
                colCumulative: 'ಸಂಚಿತ ಲಾಭ',
                
                finalMessage: '🎉 ನೆನಪಿಸಿಕೊಳ್ಳಿ: ಎಲ್ಲ ಇದು ಸರಿಯಾಗಿ ಕೆಲಸ ಮಾಡುವುದರ ಮೇಲೆ ಅವಲಂಬಿತವಾಗಿರುತ್ತದೆ. ನಿಯಮಿತವಾಗಿ ನಿಮ್ಮ ಜಮೀನನ ಕಾಳಜಿ ತೆಗೆದುಕೊಳ್ಳಿ, ಮಣ್ಣನ್ನು ಒಳ್ಳೆಯದನ್ನು ಇಟ್ಟುಕೊಳ್ಳಿ, ಮತ್ತು ಸರಿಯಾದ ಸಮಯದಲ್ಲಿ ಬಿತ್ತಿ-ಕೊಯ್ದುಕೊಳ್ಳಿ. ನಂತರ ನೀವು ಖಂಡಿತ ಯಶಸ್ವಿ ಆಗುತ್ತೀರಿ!',
                
                incomeLabel: 'ಆದಾಯ (₹)',
                costLabels: ['ಶ್ರಮ (37%)', 'ಬೀಜ ಮತ್ತು ರಸ (18%)', 'ಉಪಕರಣ ನಿರ್ವಹಣೆ (15%)', 'ನೀರಾವರೆ (8%)', 'ಕೀಟನಾಶಕ (8%)', 'ಇತರೆ (4%)']
            }
        };

        // Chart data
        const incomeData = {
            labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5', 'Year 6', 'Year 7', 'Year 8', 'Year 9', 'Year 10'],
            data: [0, 150000, 280000, 420000, 580000, 750000, 920000, 1100000, 1280000, 1475000]
        };

        const costData = {
            data: [37000, 18000, 15000, 8000, 8000, 4000]
        };

        const detailedData = [
            { year: '1', revenue: 0, cost: 76000, profit: -76000 },
            { year: '2', revenue: 150000, cost: 76000, profit: 74000 },
            { year: '3', revenue: 280000, cost: 85000, profit: 195000 },
            { year: '4', revenue: 420000, cost: 95000, profit: 325000 },
            { year: '5', revenue: 580000, cost: 100000, profit: 480000 },
            { year: '6', revenue: 750000, cost: 105000, profit: 645000 },
            { year: '7', revenue: 920000, cost: 110000, profit: 810000 },
            { year: '8', revenue: 1100000, cost: 115000, profit: 985000 },
            { year: '9', revenue: 1280000, cost: 120000, profit: 1160000 },
            { year: '10', revenue: 1475000, cost: 125000, profit: 1350000 }
        ];

        let currentLanguage = 'english';
        let incomeChart, costChartInstance;

        // Change Language Function
        function changeLanguage(e, lang) {
            currentLanguage = lang;
            const trans = translations[lang];
            
            document.getElementById('mainTitle').textContent = trans.mainTitle;
            document.getElementById('mainSubtitle').textContent = trans.mainSubtitle;
            document.getElementById('storyBox').textContent = trans.storyBox;
            
            document.getElementById('card1Label').textContent = trans.card1Label;
            document.getElementById('card1Explain').textContent = trans.card1Explain;
            document.getElementById('card1Example').textContent = trans.card1Example;
            
            document.getElementById('card2Label').textContent = trans.card2Label;
            document.getElementById('card2Explain').textContent = trans.card2Explain;
            document.getElementById('card2Example').textContent = trans.card2Example;
            
            document.getElementById('card3Label').textContent = trans.card3Label;
            document.getElementById('card3Explain').textContent = trans.card3Explain;
            document.getElementById('card3Example').textContent = trans.card3Example;
            
            document.getElementById('understandingTitle').textContent = trans.understandingTitle;
            document.getElementById('understanding1').textContent = trans.understanding1;
            document.getElementById('understanding2').textContent = trans.understanding2;
            document.getElementById('understanding3').textContent = trans.understanding3;
            document.getElementById('understanding4').textContent = trans.understanding4;
            
            document.getElementById('tab1Text').textContent = trans.tab1Text;
            document.getElementById('tab2Text').textContent = trans.tab2Text;
            document.getElementById('tab3Text').textContent = trans.tab3Text;
            
            document.getElementById('incomeTitle').textContent = trans.incomeTitle;
            document.getElementById('incomeSubtitle').textContent = trans.incomeSubtitle;
            document.getElementById('incomeExplanation').textContent = trans.incomeExplanation;
            document.getElementById('stat1Label').textContent = trans.stat1Label;
            document.getElementById('stat2Label').textContent = trans.stat2Label;
            document.getElementById('stat3Label').textContent = trans.stat3Label;
            
            document.getElementById('costTitle').textContent = trans.costTitle;
            document.getElementById('costSubtitle').textContent = trans.costSubtitle;
            document.getElementById('costExplanation').textContent = trans.costExplanation;
            
            document.getElementById('tableTitle').textContent = trans.tableTitle;
            document.getElementById('tableSubtitle').textContent = trans.tableSubtitle;
            document.getElementById('colYear').textContent = trans.colYear;
            document.getElementById('colIncome').textContent = trans.colIncome;
            document.getElementById('colCost').textContent = trans.colCost;
            document.getElementById('colProfit').textContent = trans.colProfit;
            document.getElementById('colCumulative').textContent = trans.colCumulative;
            
            document.getElementById('finalMessage').textContent = trans.finalMessage;
            
            // Update lang buttons
            document.querySelectorAll('.lang-btn').forEach((btn) => {
                btn.classList.remove('active');
            });
            e.target.classList.add('active');
            
            // Update charts
            updateCharts();
        }

        // Initialize Income Chart
        function initIncomeChart() {
            const ctx = document.getElementById('incomeChart');
            if (!ctx) return;
            
            if (incomeChart) incomeChart.destroy();
            
            incomeChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: incomeData.labels,
                    datasets: [{
                        label: translations[currentLanguage].incomeLabel,
                        data: incomeData.data,
                        borderColor: '#559d3c',
                        backgroundColor: 'rgba(85, 157, 60, 0.08)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 6,
                        pointBackgroundColor: '#559d3c',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: { 
                                font: { size: 13, weight: '600' },
                                color: '#666',
                                padding: 15,
                                usePointStyle: true
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#f0f0f0',
                                drawBorder: false
                            },
                            ticks: {
                                font: { size: 12, weight: '500' },
                                color: '#999',
                                callback: function(value) {
                                    return '₹' + (value / 100000).toFixed(1) + 'L';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: { 
                                font: { size: 12, weight: '500' },
                                color: '#999'
                            }
                        }
                    }
                }
            });
        }

        // Initialize Cost Chart
        function initCostChart() {
            const ctx = document.getElementById('costChart');
            if (!ctx) return;
            
            if (costChartInstance) costChartInstance.destroy();
            
            costChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: translations[currentLanguage].costLabels,
                    datasets: [{
                        data: costData.data,
                        backgroundColor: ['#559d3c', '#4fa3d1', '#d4af37', '#a0825b', '#7fb3d5', '#c9c9c9'],
                        borderColor: '#fff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 18,
                                font: { size: 12, weight: '500' },
                                color: '#666',
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }

        // Populate table
        function populateTable() {
            const tbody = document.getElementById('tableBody');
            let cumulativeProfit = 0;
            
            tbody.innerHTML = detailedData.map(row => {
                cumulativeProfit += row.profit;
                return `
                    <tr>
                        <td><strong>${row.year}</strong></td>
                        <td>₹${row.revenue.toLocaleString('en-IN')}</td>
                        <td>₹${row.cost.toLocaleString('en-IN')}</td>
                        <td class="${row.profit >= 0 ? 'profit-positive' : 'profit-negative'}">
                            ₹${row.profit.toLocaleString('en-IN')}
                        </td>
                        <td><strong style="color: ${cumulativeProfit >= 0 ? '#559d3c' : '#d9534f'}">₹${cumulativeProfit.toLocaleString('en-IN')}</strong></td>
                    </tr>
                `;
            }).join('');
        }

        // Update Charts
        function updateCharts() {
            if (document.getElementById('incomeContent').classList.contains('active')) {
                initIncomeChart();
            }
            if (document.getElementById('costContent').classList.contains('active')) {
                initCostChart();
            }
        }

        // Switch tabs
        function switchTab(index, type) {
            document.querySelectorAll('.tab-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === index);
            });

            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            if (type === 'income') {
                document.getElementById('incomeContent').classList.add('active');
                if (!incomeChart) setTimeout(initIncomeChart, 100);
            } else if (type === 'cost') {
                document.getElementById('costContent').classList.add('active');
                if (!costChartInstance) setTimeout(initCostChart, 100);
            } else if (type === 'detail') {
                document.getElementById('detailContent').classList.add('active');
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                initIncomeChart();
                populateTable();
            }, 300);
        });
    </script>